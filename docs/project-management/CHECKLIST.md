# 开发前检查清单 ✅

**用途**: 每次开发前快速重新对齐，5分钟完成

---

## 🎯 第一步：明确目标（1分钟）

### 我要做什么？
- [ ] 功能名称：_________________
- [ ] 所属阶段：Phase ___
- [ ] 预期时间：___ 小时

### 这符合项目方向吗？
- [ ] ✅ 符合核心使命（定位和导出选择器）
- [ ] ✅ 在 DEVELOPMENT_PLAN.md 的计划中
- [ ] ✅ 至少 20% 用户会使用
- [ ] ✅ 不破坏现有功能

❌ **如果有任何一项不符合，重新考虑或与团队讨论**

---

## 🏗️ 第二步：设计检查（2分钟）

### 简洁性检查
```bash
# 我的命令是否简洁？
selector> _________________

# 如果超过 10 个单词，考虑简化
```

- [ ] ✅ 命令不超过 10 个单词
- [ ] ✅ 用户能在 1 分钟内理解
- [ ] ✅ 不需要查文档就能猜到用法

### 一致性检查
- [ ] ✅ 语法遵循现有模式（如 `add/remove/list` 模式）
- [ ] ✅ 术语与现有命令一致
- [ ] ✅ 参数顺序与类似命令一致

### 架构检查
```
REPL (交互) → Parser (解析) → Executor (执行) → Core (核心)
```

我的代码应该放在哪一层？
- [ ] ✅ 确认放在正确的层级
- [ ] ✅ 不违反层级职责边界
- [ ] ✅ 依赖方向正确（向下依赖）

---

## 💻 第三步：编码标准（1分钟）

### 必须遵守
```python
# ✅ 类型提示
def my_function(param: Type) -> ReturnType:
    pass

# ✅ 文档字符串
def my_function(param: Type) -> ReturnType:
    """What this function does

    Args:
        param: What param is

    Returns:
        What it returns
    """
    pass

# ✅ 错误处理
try:
    risky_operation()
except SpecificError as e:
    logger.error(f"Error: {e}")
    return "User-friendly error message"
```

- [ ] ✅ 所有函数有类型提示
- [ ] ✅ 公共方法有文档字符串
- [ ] ✅ 可能失败的地方有错误处理
- [ ] ✅ 错误消息对用户有帮助

---

## 🧪 第四步：测试计划（30秒）

我需要什么测试？
- [ ] 单元测试（必须）- 核心逻辑
- [ ] 集成测试（推荐）- 与其他组件协作
- [ ] 手动测试（必须）- 真实场景

测试场景：
- [ ] ✅ 正常情况
- [ ] ✅ 边界情况（空、0、最大值）
- [ ] ✅ 错误情况（无效输入）

---

## 📝 第五步：文档计划（30秒）

需要更新哪些文档？
- [ ] README.md - 如果是新命令
- [ ] CHANGELOG.md - 所有改动
- [ ] 代码注释 - 复杂逻辑
- [ ] 示例代码 - 新功能必须有

---

## ⚡ 快速自查（开发中）

### 写代码时问自己

**每写一个类：**
- 职责单一吗？
- 放在正确的模块吗？
- 命名清晰吗？

**每写一个方法：**
- 做一件事吗？
- 不超过 30 行吗？
- 有类型提示吗？

**每处理错误：**
- 有具体的异常类型吗？
- 有用户友好的消息吗？
- 记录了日志吗？

---

## ✅ 提交前检查（提交前）

### 代码质量
```bash
# 1. 运行测试
cd F:/browser-use/selector-cli
python tests/test_mvp.py
python tests/test_integration.py
# 确保所有测试通过 ✅
```

- [ ] ✅ 所有现有测试通过
- [ ] ✅ 新功能有测试
- [ ] ✅ 测试覆盖边界情况

### 文档完整
- [ ] ✅ README.md 更新（如需要）
- [ ] ✅ CHANGELOG.md 添加条目
- [ ] ✅ 代码有足够注释
- [ ] ✅ 有使用示例

### 质量红线
- [ ] ✅ 没有破坏向后兼容
- [ ] ✅ 没有硬编码敏感数据
- [ ] ✅ 没有吞掉错误
- [ ] ✅ 命名一致
- [ ] ✅ 所有公共 API 有文档

### Git 提交
```bash
# 检查状态
git status

# 暂存改动
git add -A

# 提交（使用规范的 commit message）
git commit -m "feat/fix/docs: 简短描述

详细说明（如需要）

🤖 Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude <noreply@anthropic.com>"
```

---

## 🚨 质量红线（绝对禁止）

如果发现以下情况，**立即停止并修复**：

- ❌ 破坏了现有命令的行为
- ❌ 添加了无错误处理的异步操作
- ❌ 公共 API 没有类型提示
- ❌ 核心功能没有测试
- ❌ 硬编码了 URL/密码等
- ❌ 静默吞掉了错误（空 except）
- ❌ 使用了不一致的术语
- ❌ 公共功能没有文档

---

## 🎯 核心原则提醒

记住这 5 个原则：

1. **简洁优于复杂** - 能简单就不要复杂
2. **约定优于配置** - 默认行为要智能
3. **反馈即时性** - 每个操作都要有反馈
4. **渐进式增强** - 基础简单，高级可选
5. **一致性** - 相似操作相似语法

---

## 📋 快速决策树

```
需要添加新功能？
│
├─ 是否符合核心使命？
│  ├─ 否 → ❌ 不要做
│  └─ 是 ↓
│
├─ 是否有现有机制可实现？
│  ├─ 是 → ✅ 用现有机制
│  └─ 否 ↓
│
├─ 是否会让核心流程更复杂？
│  ├─ 是 → ⚠️ 重新设计
│  └─ 否 ↓
│
├─ 至少 20% 用户会用？
│  ├─ 否 → ⚠️ 考虑作为插件
│  └─ 是 ↓
│
└─ ✅ 可以开始开发
   └─ 记得：测试 + 文档
```

---

## 🔄 使用流程

### 每次开发前（5分钟）
1. ✅ 完成本检查清单
2. 📖 快速浏览 PROJECT_CONTEXT.md 相关部分
3. 📅 确认 DEVELOPMENT_PLAN.md 中的位置
4. 🧪 运行测试确保基线正常

### 开发过程中
- 💡 遇到选择时查看"快速决策树"
- ⚠️ 违反原则时立即重新评估
- 📝 复杂决策记录在 ADR

### 提交前
1. ✅ 完成"提交前检查"
2. 🧪 运行所有测试
3. 📝 更新文档
4. 💾 Git commit

---

## 📚 完整文档路径

- **本文件**: `CHECKLIST.md` - 快速检查清单（你在这里）
- **核心**: `PROJECT_CONTEXT.md` - 完整框架上下文
- **计划**: `DEVELOPMENT_PLAN.md` - 开发路线图
- **设计**: `selector-explorer/selector-cli-design-v1.0.md` - 详细设计
- **语法**: `selector-explorer/selector-cli-grammar-v1.0.md` - 语法规范

---

## 🎓 常见错误提醒

### 上次遇到的问题
- [ ] 检查：是否又犯了同样的错误？

### 常见陷阱
1. 过度设计 - 从简单开始
2. 忽略边界情况 - 空值、0、最大值
3. 吞掉错误 - 必须有错误处理
4. 硬编码 - 使用配置或常量
5. 破坏一致性 - 遵循现有模式

---

**打印这个清单，贴在显示器旁边！** 📌

**每次开发前花 5 分钟完成检查，避免走弯路！** ⏱️

---

_最后更新: 2025-11-22_
_版本: 1.0_
